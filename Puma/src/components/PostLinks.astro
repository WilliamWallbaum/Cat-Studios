---
// import { Image } from '@astrojs/image/components';
const allPosts = await Astro.glob("../pages/posts/*.md");
---

<section id="postlinks">
  <div class="post-section-header">
    <h1>My Astro Learning Blog</h1>
    <p>This is where I will post about my journey learning Astro.</p>
  </div>

  <div class="post-container">
    <ul id="blog-post-list">
      {
        allPosts.map((post) => (
          <li id={post.frontmatter.title}>
            <Image src={post.frontmatter.image.url} width={300} height={300} alt={post.frontmatter.image.alt}/>
            <h3>
              <a class="blog-post-a" href={post.url}>
                {post.frontmatter.title}
              </a>
            </h3>
            <p>{post.frontmatter.description}</p>
          </li>
        ))
      }
    </ul>
  </div>
</section>

<style>
  section#postlinks {
    outline: 13px ridge rgb(0 0 0 / 50);
  }

  .post-section-header {
    display: flex;
    outline: 2px ridge rgb(255 0 204 / 50%);
    flex-direction: column;
    align-content: center;
    justify-content: center;
    flex-wrap: wrap;
  }

  .post-container {
    outline: 2px ridge rgb(138 0 255 / 50%);
    width: inherit;
  }

  ul#blog-post-list {
    display: flex;
    gap: 10px;
    outline: 1px ridge rgb(0 0 0 / 50%);
    margin: 0;
    padding: 2em;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: center;
  }

  ul#blog-post-list li {
    outline: 1px ridge rgb(0 0 0 / 50%);
    display: flex;
    flex-direction: column;
    justify-content: center;
    flex: 1;
    text-align: center;
    flex-wrap: wrap;
    align-content: center;
  }

  img.blog-post-img {
    outline: 1px ridge rgb(0 0 0 / 50%);
  }
</style>
