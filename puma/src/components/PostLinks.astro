---
const blog = await Astro.glob("../content/blog/*.md");
---

<section id="postlinks">
  <div class="post-section-header">
    <h2>Cat Talk</h2>
    <p>wanna know my thoughts or what I'm contemplating... </p>
  </div>

  <div class="post-container">
    <ul id="blog-post-list">
      {
        blog.map((post) => (
          <li id={post.frontmatter.title} class="card">
            <img
              class="blog-post-img"
              src={post.frontmatter.image.url}
              alt={post.frontmatter.image.alt}
              height="250px"
              width="250px"
            />
            <h3>
              <a class="blog-post-a" href={post.url}>
                {post.frontmatter.title}
              </a>
            </h3>
            <p>{post.frontmatter.description}</p>
          </li>
        ))
      }
    </ul>
  </div>
</section>

<style lang="scss">
  section#postlinks {
    display: grid;
    padding: var(--global-s2) var(--global-s4);
    grid-template-areas: "header" "posts";
  }

  .post-section-header {
    grid-area: header;
    text-align: center;
    
    h2 {
      color: inherit;
      width: 100%;
      padding: 0;
      font-size: 3rem;
      text-transform: uppercase;
    }
  }

  .post-container {
    grid-area: posts;
    width: inherit;
    padding: var(--global-s1);
  }

  #blog-post-list {
    display: flex;
    margin: 0;
    padding: 0;
    gap: var(--global-s2);

    li {
      display: flex;
      flex-direction: column;
      justify-content: center;
      text-align: center;

      h3 a {
        color: inherit;
      }

      img.blog-post-img {
        width: 100%;
        margin: var(--global-s1);
      }
    }
  }
</style>
