---
const blog = await Astro.glob("../content/blog/*.md");
---

<section id="postlinks">
  <div class="post-section-header">
    <h2>Cat Talk</h2>
    <p>wanna know my thoughts or what I'm contemplating... </p>
  </div>

  <div class="post-container">
    <ul id="blog-post-list">
      {
        blog.map((post) => (
          <li id={post.frontmatter.title} class="card">
            <img
              class="blog-post-img"
              src={post.frontmatter.image.url}
              alt={post.frontmatter.image.alt}
              height="250px"
              width="250px"
            />
            <h3>
              <a class="blog-post-a" href={post.url}>
                {post.frontmatter.title}
              </a>
            </h3>
            <p>{post.frontmatter.description}</p>
          </li>
        ))
      }
    </ul>
  </div>
</section>

<style>
  section#postlinks {
    display: grid;
    padding: var(--global-s2) var(--global-s4);
    grid-template-areas: "header" "posts";
    background-color: var(--secondary-color);
  }

  .post-section-header {
    grid-area: header;
    text-align: center;
    color: var(--primary-text-color);

    & h2 {
        color: inherit;
        width:100%;
        padding:0;
        font-size: 3rem;
        text-transform: uppercase;
      }
  }

  .post-container {
    grid-area: posts;
    width: inherit;
    padding: var(--global-s1);
  }

  #blog-post-list {
    display: flex;
    color: var(--primary-text-color);
    margin: 0;
    padding: 0;
    gap: var(--global-s2);

    & li {
      outline: 2px ridge var(--black-6);
      background-color: var(--primary-background-color);
      padding:  var(--global-s1);
      display: flex;
      flex-direction: column;
      justify-content: center;
      flex: 1;
      text-align: center;
      flex-wrap: wrap;
      align-content: center;
      color: inherit;

      & h3 a, {
        color: inherit;
      }

      & img.blog-post-img {
        outline: 2px ridge var(--black-6);
        width: 100%;
        margin: var(--global-s1);
      }
    }
  }
</style>
